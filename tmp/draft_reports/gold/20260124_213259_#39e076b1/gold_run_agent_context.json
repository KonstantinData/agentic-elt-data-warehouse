{
  "silver_run_id": "20260124_213259_#39e076b1",
  "gold_layer_objective": "Create cleansed, conformed, and integrated Gold-layer data marts for customer, product, location dimensions and sales facts with aggregated KPIs to support BI and analytics.",
  "dimensions": [
    {
      "name": "gold_dim_customer",
      "source_tables": [
        "cst_info.csv",
        "customer_info.csv",
        "CST_AZ12.csv"
      ],
      "grain": "one row per customer",
      "primary_keys": [
        "cst_id"
      ],
      "attributes": [
        "cst_key",
        "cst_firstname",
        "cst_lastname",
        "cst_marital_status",
        "cst_gndr",
        "cst_create_date",
        "BDATE",
        "GEN"
      ],
      "scd_guidance": "SCD Type 2 to track customer attribute changes over time",
      "notes": [
        "Merge customer info from cst_info.csv and Cst_AZ12.csv for enriched attributes.",
        "Standardize missing values in gender and dates before loading.",
        "customer_info.csv has very limited rows and may be used for validation or enrichment only."
      ]
    },
    {
      "name": "gold_dim_product",
      "source_tables": [
        "prd_info.csv",
        "product_info.csv",
        "PX_CAT_G1V2.csv"
      ],
      "grain": "one row per product",
      "primary_keys": [
        "prd_id"
      ],
      "attributes": [
        "prd_key",
        "prd_nm",
        "prd_cost",
        "prd_line",
        "prd_start_dt",
        "prd_end_dt",
        "product_name",
        "category",
        "price",
        "CAT",
        "SUBCAT",
        "MAINTENANCE"
      ],
      "scd_guidance": "SCD Type 2 to capture product lifecycle and category changes",
      "notes": [
        "Join prd_info.csv with product_info.csv and PX_CAT_G1V2.csv for full product details and category hierarchy.",
        "Standardize missing values in prd_cost, prd_end_dt, and prd_line before loading."
      ]
    },
    {
      "name": "gold_dim_location",
      "source_tables": [
        "LOC_A101.csv"
      ],
      "grain": "one row per customer location",
      "primary_keys": [
        "CID"
      ],
      "attributes": [
        "CNTRY"
      ],
      "scd_guidance": "SCD Type 1 as location data is expected to be current only",
      "notes": [
        "Standardize missing values in CNTRY before loading.",
        "CID links to customer dimension CID."
      ]
    }
  ],
  "facts": [
    {
      "name": "gold_fact_sales",
      "source_tables": [
        "sales_details.csv",
        "sales_transactions.csv"
      ],
      "grain": "one row per sales transaction line item",
      "primary_keys": [
        "sls_ord_num",
        "sls_prd_key",
        "sls_cust_id"
      ],
      "measures": [
        "sls_sales",
        "sls_quantity",
        "sls_price",
        "quantity",
        "unit_price"
      ],
      "dimensions": [
        "gold_dim_customer",
        "gold_dim_product",
        "gold_dim_location"
      ],
      "aggregation_opportunities": [
        "Sum sales and quantity by product, customer, location, and time",
        "Average unit price and sales price",
        "Count distinct transactions"
      ],
      "notes": [
        "Standardize missing values in sls_price and sls_sales before loading.",
        "sales_transactions.csv has limited rows but can be used for validation or enrichment.",
        "Date fields in sales_details.csv are integers and may require conversion to date."
      ]
    }
  ],
  "marts": [
    {
      "name": "gold_dim_customer",
      "type": "dim",
      "priority": "mandatory",
      "source_tables": [
        "cst_info.csv",
        "CST_AZ12.csv"
      ],
      "grain": "one row per customer",
      "primary_keys": [
        "cst_id"
      ],
      "measures": [],
      "dimensions": [],
      "scd_guidance": "SCD Type 2",
      "aggregation_opportunities": [],
      "notes": [
        "Integrate demographic and personal info from multiple sources.",
        "Handle missing gender and date fields carefully."
      ]
    },
    {
      "name": "gold_dim_product",
      "type": "dim",
      "priority": "mandatory",
      "source_tables": [
        "prd_info.csv",
        "product_info.csv",
        "PX_CAT_G1V2.csv"
      ],
      "grain": "one row per product",
      "primary_keys": [
        "prd_id"
      ],
      "measures": [],
      "dimensions": [],
      "scd_guidance": "SCD Type 2",
      "aggregation_opportunities": [],
      "notes": [
        "Combine product master data with category hierarchy.",
        "Standardize missing cost and line info."
      ]
    },
    {
      "name": "gold_dim_location",
      "type": "dim",
      "priority": "mandatory",
      "source_tables": [
        "LOC_A101.csv"
      ],
      "grain": "one row per customer location",
      "primary_keys": [
        "CID"
      ],
      "measures": [],
      "dimensions": [],
      "scd_guidance": "SCD Type 1",
      "aggregation_opportunities": [],
      "notes": [
        "Location dimension keyed by customer ID.",
        "Standardize missing country codes."
      ]
    },
    {
      "name": "gold_fact_sales",
      "type": "fact",
      "priority": "mandatory",
      "source_tables": [
        "sales_details.csv"
      ],
      "grain": "one row per sales transaction line item",
      "primary_keys": [
        "sls_ord_num",
        "sls_prd_key",
        "sls_cust_id"
      ],
      "measures": [
        "sls_sales",
        "sls_quantity",
        "sls_price"
      ],
      "dimensions": [
        "gold_dim_customer",
        "gold_dim_product",
        "gold_dim_location"
      ],
      "scd_guidance": "",
      "aggregation_opportunities": [
        "Aggregate sales and quantity by product, customer, location, and time",
        "Calculate average price metrics"
      ],
      "notes": [
        "Standardize missing sales and price values before loading.",
        "Date fields require conversion from integer to date."
      ]
    },
    {
      "name": "gold_agg_exec_kpis",
      "type": "agg",
      "priority": "mandatory",
      "source_tables": [
        "sales_details.csv"
      ],
      "grain": "aggregated at company-wide daily level",
      "primary_keys": [
        "sls_order_dt"
      ],
      "measures": [
        "total_sales",
        "total_quantity",
        "average_price"
      ],
      "dimensions": [
        "time"
      ],
      "scd_guidance": "",
      "aggregation_opportunities": [
        "Sum sales and quantity daily",
        "Calculate daily average price"
      ],
      "notes": [
        "Derived from gold_fact_sales aggregated by order date."
      ]
    },
    {
      "name": "gold_agg_product_performance",
      "type": "agg",
      "priority": "mandatory",
      "source_tables": [
        "sales_details.csv"
      ],
      "grain": "aggregated at product and time level",
      "primary_keys": [
        "sls_prd_key",
        "sls_order_dt"
      ],
      "measures": [
        "total_sales",
        "total_quantity",
        "average_price"
      ],
      "dimensions": [
        "gold_dim_product",
        "time"
      ],
      "scd_guidance": "",
      "aggregation_opportunities": [
        "Sum sales and quantity by product and date",
        "Calculate average price per product"
      ],
      "notes": [
        "Supports product performance analytics."
      ]
    },
    {
      "name": "gold_agg_geo_performance",
      "type": "agg",
      "priority": "optional",
      "source_tables": [
        "sales_details.csv",
        "LOC_A101.csv"
      ],
      "grain": "aggregated at country and time level",
      "primary_keys": [
        "CNTRY",
        "sls_order_dt"
      ],
      "measures": [
        "total_sales",
        "total_quantity"
      ],
      "dimensions": [
        "gold_dim_location",
        "time"
      ],
      "scd_guidance": "",
      "aggregation_opportunities": [
        "Sum sales and quantity by country and date"
      ],
      "notes": [
        "Requires join between sales_details and location dimension on CID.",
        "Country data has missing values that need standardization."
      ]
    },
    {
      "name": "gold_wide_sales_enriched",
      "type": "wide",
      "priority": "optional",
      "source_tables": [
        "sales_details.csv",
        "cst_info.csv",
        "prd_info.csv",
        "LOC_A101.csv"
      ],
      "grain": "one row per sales transaction enriched with customer, product, and location attributes",
      "primary_keys": [
        "sls_ord_num"
      ],
      "measures": [
        "sls_sales",
        "sls_quantity",
        "sls_price"
      ],
      "dimensions": [
        "gold_dim_customer",
        "gold_dim_product",
        "gold_dim_location"
      ],
      "scd_guidance": "",
      "aggregation_opportunities": [
        "Aggregate sales by enriched attributes for detailed analytics"
      ],
      "notes": [
        "Complex joins may introduce risk due to missing or inconsistent keys.",
        "Useful for detailed BI reports if data quality is sufficient."
      ]
    }
  ],
  "risks": [
    "Missing values in key dimension attributes (e.g., gender, country) may affect joins and analytics.",
    "Date fields in sales_details.csv are integers and require careful conversion to datetime.",
    "Limited rows in some tables (e.g., customer_info.csv, sales_transactions.csv) may limit enrichment usefulness.",
    "Potential inconsistencies between overlapping customer and product tables require reconciliation.",
    "Complex joins in wide sales enriched mart may impact performance and data quality."
  ],
  "assumptions": [
    "cst_id in cst_info.csv is the primary customer key for dimension.",
    "prd_id in prd_info.csv is the primary product key.",
    "CID in location and customer tables can be used to link location to customer dimension.",
    "Missing values will be standardized or imputed during Silver transformations.",
    "Date conversions from integer to datetime will be handled in ETL prior to Gold loading."
  ],
  "next_steps": [
    "Implement Silver transformations to standardize missing values as suggested.",
    "Develop ETL pipelines to build Gold dimensions with SCD2 for customer and product.",
    "Create fact sales mart integrating sales_details with dimension keys.",
    "Build aggregation marts for executive KPIs and product performance.",
    "Evaluate data quality and join keys for wide sales enriched mart before implementation.",
    "Validate keys and uniqueness constraints in Silver data before Gold load."
  ]
}